# DAVID

Author: balobin.p@mail.ru
Version 0.6.0.dev
Date 23.08.19

************************************************************************************************************************
To Do list:
************************************************************************************************************************

Уровень идей:
1. Сделать словарь английского языка для детей на основе nltk.corpus.wordnet.
2. Добавить модуль диагностики состояния датчиков и базы данных. Модуль должен запускаться по голосовому сигналу и предоставлять голосовой отчет.
3. Модуль. Таймер. Создавать голосом задачу на установку таймера.
4. Модуль. Список покупок.
5. Модуль. Каша.
10. Сделать приветствие при получении сигнала с датчика открывания двери.
13. Добавить интеграцию с сайтом погоды и добавить воозможность запрашивать погоду голосом.
14. Установить датчик движения в коридор для определения когда кто-то пришел с улицы для приветствия.
18. Установить Splunk для контроля состояния по данным файлов логов.
23. Добавить возможность выполнения API запросов из внешней сети (либо запросов по WA).
24. Сделать задачи на неправильные глаголы для детей на сайте.
25. Сделать базу данных по категориям для детей на сайте, чтобы дети могли собирать материал по исследовательским темам.

Главный Компьютер:
25. Проверить во всех модулях и SQL запросах, что при добавлении дополнительного датчика температуры не будет задвоения данных.
27. Добавить API на базе flask и flask_sqlalchemy для получения данных из базы данных.

Модуль Django:
1. Упростить пароли
2. Сделать service для запуска django или перевести на Apache.
3. Решить проблему передачи данных между view для task01.
4. Решить проблему с первым входом на страницу Math, когда у пользователя нет ни одной решенной задачи в task02.
В этом случае выходит ошибка.

Модуль david_web_server:
1. Переделать, чтобы web server слушал не 80 порт а другой, в противном случае не запустить apach.

Модуль climate_check:
1. 

Модуль david_gas_check:
1. Добавит датчик температуры.

Модуль david_currency_check:
1. 

Модуль david_unittest:
1. 

Модуль david_healthcheck:
2. Доделать информирование пользователя.

Модуль david_user_interface:
1. 

Микроконтроллер NodeMcu01BedRoom:
1. Реализовать подключение к WiFi модулей ESP в цикле только для передачи информации, чтобы устранить лишнее излучение (???).
2. Добавить Deep sleep для модулей ESP с делью экономии энергии и устранения излучения (???).

Микроконтроллер NodeMcu02Gas:
1. Заменить DELAY_HTTP_REPORT на переменную типа unsigned long.
unsigned long delay_http_report = 900000;
if (millis() - last_time > delay_http_report) {...
2. Добавить датчик температуры.

Микроконтроллер NodeMcu03Door (датчик между входными дверями)
1. Увеличить таймер выключения света до 30 секунд.
3. В http запрос connect добавить версию прошивки.

Микроконтроллер NodeMcu04Entrance (датчик в коридоре)
1. Заменить датчик движения.
2. Разработать.
3. В http запрос connect добавить версию прошивки.

************************************************************************************************************************
Изменения версий и процедуры
************************************************************************************************************************

------------------------------------
Version 0.6.0.dev change list and installation procedure:
------------------------------------

Модуль david_gas_check:
1. В логгере заменен t на GasSensorValue

Модуль david_healthcheck:
1. Реализована проверка двух и более датчиков температуры.

Модуль Django:
1. Добавлены неправильные глаголы

Installation procedure:
cd ./WEB_UI
python manage.py makemigrations english
python manage.py sqlmigrate english 0001
python manage.py migrate english

INSERT INTO english_irregularverbs
(infinitive, past, participle, "translation")
VALUES
('get', 'got', 'gotten', 'получать'),
('take', 'took', 'taken', 'брать'),
('go', 'went', 'gone', 'идти'),
('sit', 'sat', 'sat', 'сидеть'),
('spend', 'spent', 'spent', 'тратить');

------------------------------------
Version 0.5.0 change list and installation procedure:
------------------------------------

Модуль david_web_server:
1. Сделана обработка получения версии прошивки от датчиков
2. Сделана обработка получения аварийных сообщений от датчика газа с оповещением по мэйлу.

Модуль david_user_interface:
1. Пароль от почты вынесен во внешний json файл
2. Добавлена возможность отправки html в майл.

Микроконтроллер NodeMcu01BedRoom:
1. Заменен датчик DHT11 на DHT22.
2. Вынесены номер сенсора и IP главного компютрера в переменные.
3. В http запрос connect добавлена версия прошивки.

Микроконтроллер NodeMcu02Gas:
1. Добавлена отправки аварийных сообщений и поддержка светодиодов
2. Вынесены номер сенсора и IP главного компютрера в переменные.
3. В http запрос connect добавлена версия прошивки.

Модуль Django:
1. Добавлено тестирование для children_math и mainpage
/david/WEB_UI>python manage.py test children_math.tests
/david/WEB_UI>python manage.py test mainpage.tests
2. Исправлена проблема с неправильным отображением прогресса выполнения задач Math task
3. Добавлено умножение в math_task01
